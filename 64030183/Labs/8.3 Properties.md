# 8.3 Properties 

Properties เป็นสมาชิกของคลาส ที่ใช้เก็บข้อมูลในลักษณะเดียวกับ fields 

Properties ต้องมี type เสมอ ต้องมี identifier ตามกฎการตั้งชื่อ และต้องเป็นสมาชิกของคลาส ไม่สามารถประกาศไว้นอกคลาสได้	

Properties ต่างจาก field ตรงที่นิยมกำหนดให้เป็น public เพื่อเป็นทางนำข้อมูลเข้าไปยัง field และนำออกจาก field ซึ่งนิยมกำหนดเป็น private

นอกจากนี้เรายังสามารถเพิ่มคำสั่ง (statements) ไว้ภายใน properties ได้ด้วย 

## 8.3.1 การใช้ properties พื้นฐาน 

รันโปรแกรมต่อไปนี้และบันทึกผล

``` cs
namespace PropertyExample
{

    class Cat
    {
        public int Age { get; set; }  // property อย่างง่าย มี getter, setter
    }
    internal class Program
    {
        static void Main(string[] args)
        {
            var Garfield = new Cat();
            Garfield.Age = 5;
            Console.WriteLine(Garfield.Age);
        }
    }
}
```

![image](https://user-images.githubusercontent.com/115066431/236665164-054caafe-a6e3-41fa-9b2e-dd83d26dcb77.png)


## 8.3.2 เพิ่ม property

รันโปรแกรมต่อไปนี้และบันทึกผล

```cs
namespace PropertyExample
{
    class Cat
    {
        public int Age { get; set; }
        public Color SkinColor { get; set; }

    }
    internal class Program
    {
        static void Main(string[] args)
        {
            var Garfield = new Cat();
            Garfield.Age = 5;
            Garfield.SkinColor = Color.Orange;

            Console.WriteLine(Garfield.Age);
            Console.WriteLine(Garfield.SkinColor);
        }
    }
}
```
![image](https://user-images.githubusercontent.com/115066431/236665191-5e03f07e-8ddb-4645-9d6b-6e00e197e6b3.png)


## 8.3.3  การใช้งาน getter/setter

รันโปรแกรมต่อไปนี้และบันทึกผล

``` cs
namespace PropertyExample
{

    class Cat
    {
        public int Age { get; set; }
        public Color SkinColor { get; set; }

    }
    internal class Program
    {
        static void Main(string[] args)
        {
            var Garfield = new Cat();
            // callint setter
            Garfield.Age.set(5);

            // calling getter
            int catAge = Garfield.Age.get();
            Console.WriteLine(catAge);
        }
    }
}
```

![image](https://user-images.githubusercontent.com/115066431/236665391-d1d10ca1-df0b-421b-9ab6-97ba6a5befa9.png)




## 8.3.4 properties calculation

รันโปรแกรมต่อไปนี้และบันทึกผล
``` cs
namespace PropertyExample
{

    class Cat
    {
        public int Age { get; set; }
        public int YearOfBirth { get; set; }

    }
    internal class Program
    {
        static void Main(string[] args)
        {
            var Garfield = new Cat();
            Garfield.YearOfBirth = 2015;
            int GarAge = 2023 - Garfield.YearOfBirth;
            Console.WriteLine($"Garfield's age = {GarAge}");
        }
    }
}
```

![image](https://user-images.githubusercontent.com/115066431/236665412-0c96b928-0ab0-4dde-8622-538fcfe2189f.png)


## 8.3.5 properties calculation

รันโปรแกรมต่อไปนี้และบันทึกผล

``` cs
namespace PropertyExample
{

    class Cat
    {
        public int Age {
            get { return DateTime.Now.Year - YearOfBirth; }
            set { Age = value; } 
        }
        public int YearOfBirth { get; set; }

    }
    internal class Program
    {
        static void Main(string[] args)
        {
            var Garfield = new Cat();
            Garfield.YearOfBirth = 2015;
            Console.WriteLine($"Garfield's age = {Garfield.Age}");
        }
    }
}
```
![image](https://user-images.githubusercontent.com/115066431/236665441-6948a9f5-e7b7-4d22-9f1f-5fe32fec0b5b.png)


## 8.3.6 properties calculation

รันโปรแกรมต่อไปนี้และบันทึกผล

```cs
namespace PropertyExample
{

    class Cat
    {
        int age;
        int yearOfBirth;
        public int Age {
            get {  return DateTime.Now.Year - YearOfBirth;  }
            set 
            { 
                age = value;
                yearOfBirth = DateTime.Now.Year - age;
            } 
        }
        public int YearOfBirth {
            get { return yearOfBirth; }
            set { 
                yearOfBirth = value;
                age = DateTime.Now.Year - YearOfBirth;
            }
        }
    }
    internal class Program
    {
        static void Main(string[] args)
        {
            var Garfield = new Cat();
            Garfield.YearOfBirth = 2015;
            Console.WriteLine($"Garfield's age = {Garfield.Age}");
        }
    }
}
```
![image](https://user-images.githubusercontent.com/115066431/236665470-2f0b93cf-4caa-428b-ac85-691b94e91fe4.png)


## คำถาม

1. Fields และ properties ต่างกันอย่างไร
```cs
Fields คือตัวแปรที่ใช้เก็บข้อมูลในคลาส ซึ่งสามารถเข้าถึงได้โดยตรงผ่านชื่อตัวแปร ซึ่งสามารถกำหนดค่าได้ตลอดเวลาตามที่ต้องการ
Properties คือสมาชิกของคลาสที่เกี่ยวข้องกับการเข้าถึงหรือกำหนดค่าของตัวแปรในคลาส โดยใช้เมทอด getter และ setter เพื่อเข้าถึงหรือกำหนดค่าได้ โดย Properties จะเข้าถึงได้ผ่านชื่อ Properties แทนที่จะเข้าถึงตัวแปรเลย
```
2. เมื่อใดควรใช้ field และเมื่อใดควรใช้ properties
```cs
ในกรณีที่ต้องการใช้งานข้อมูลภายในคลาสโดยตรง โดยไม่ต้องมีการกำหนดเงื่อนไขในการเข้าถึงข้อมูล ก็สามารถใช้ field ได้เลย แต่ถ้าต้องการเพิ่มเงื่อนไขในการเข้าถึงข้อมูล เช่น ตรวจสอบความถูกต้องของข้อมูลก่อนที่จะกำหนดค่า หรือต้องการกำหนดสิทธิ์ในการเข้าถึงข้อมูล ก็ควรใช้ Properties แทน
```

3. value ใน setter หมายถึงอะไร
```cs
value ใน setter หมายถึงค่าที่ถูกส่งเข้ามาเพื่อกำหนดค่าให้กับ property นั้นๆ โดย value เป็น keyword ที่ใช้ในการอ้างอิงถึงค่าที่ถูกส่งเข้ามา และสามารถนำค่านั้นไปใช้ในการกำหนดค่าของ property ได้
```

4. return ใน setter ต้องมี type ตรงกับอะไร
```cs
Setter ไม่ได้ต้องการการ return ค่าใด ๆ เนื่องจาก setter มีหน้าที่เป็นการกำหนดค่าให้กับ property ตามที่กำหนดไว้ ดังนั้น ไม่จำเป็นต้องมีการระบุชนิดของค่าที่จะ return ออกจาก setter ในภาษา C# นั้น ปกติจะใช้คำว่า void ในการระบุว่า setter นี้ไม่มีการ return ค่าอะไรกลับไป แต่ถ้าต้องการ return ค่าใด ๆ ออกจาก setter ก็สามารถทำได้โดยการกำหนดค่าคืนใน getter ของ property นั้น ๆ แทนการ return จาก setter โดยตรง
```
