# 8.3 Properties 

Properties เป็นสมาชิกของคลาส ที่ใช้เก็บข้อมูลในลักษณะเดียวกับ fields 

Properties ต้องมี type เสมอ ต้องมี identifier ตามกฎการตั้งชื่อ และต้องเป็นสมาชิกของคลาส ไม่สามารถประกาศไว้นอกคลาสได้	

Properties ต่างจาก field ตรงที่นิยมกำหนดให้เป็น public เพื่อเป็นทางนำข้อมูลเข้าไปยัง field และนำออกจาก field ซึ่งนิยมกำหนดเป็น private

นอกจากนี้เรายังสามารถเพิ่มคำสั่ง (statements) ไว้ภายใน properties ได้ด้วย 

## 8.3.1 การใช้ properties พื้นฐาน 

รันโปรแกรมต่อไปนี้และบันทึกผล

``` cs
namespace PropertyExample
{

    class Cat
    {
        public int Age { get; set; }  // property อย่างง่าย มี getter, setter
    }
    internal class Program
    {
        static void Main(string[] args)
        {
            var Garfield = new Cat();
            Garfield.Age = 5;
            Console.WriteLine(Garfield.Age);
        }
    }
}
```
### อธิบายและผลการทดลอง

![image](https://user-images.githubusercontent.com/100436724/236544353-f6026ce1-7fdc-47a7-9bd1-27a26aff5486.png)


## 8.3.2 เพิ่ม property

รันโปรแกรมต่อไปนี้และบันทึกผล

```cs
namespace PropertyExample
{
    class Cat
    {
        public int Age { get; set; }
        public Color SkinColor { get; set; }

    }
    internal class Program
    {
        static void Main(string[] args)
        {
            var Garfield = new Cat();
            Garfield.Age = 5;
            Garfield.SkinColor = Color.Orange;

            Console.WriteLine(Garfield.Age);
            Console.WriteLine(Garfield.SkinColor);
        }
    }
}
```
### อธิบายและผลการทดลอง

![image](https://user-images.githubusercontent.com/100436724/236545594-9a4d3c9e-b1cb-440b-b84c-c3ac668d382c.png)


## 8.3.3  การใช้งาน getter/setter

รันโปรแกรมต่อไปนี้และบันทึกผล

``` cs
namespace PropertyExample
{

    class Cat
    {
        public int Age { get; set; }
        public Color SkinColor { get; set; }

    }
    internal class Program
    {
        static void Main(string[] args)
        {
            var Garfield = new Cat();
            // callint setter
            Garfield.Age.set(5);

            // calling getter
            int catAge = Garfield.Age.get();
            Console.WriteLine(catAge);
        }
    }
}
```
### อธิบายและผลการทดลอง

![image](https://user-images.githubusercontent.com/100436724/236548523-5da98ec0-9ede-490e-b6aa-75b9f0b76266.png)

## 8.3.4 properties calculation

รันโปรแกรมต่อไปนี้และบันทึกผล
``` cs
namespace PropertyExample
{

    class Cat
    {
        public int Age { get; set; }
        public int YearOfBirth { get; set; }

    }
    internal class Program
    {
        static void Main(string[] args)
        {
            var Garfield = new Cat();
            Garfield.YearOfBirth = 2015;
            int GarAge = 2023 - Garfield.YearOfBirth;
            Console.WriteLine($"Garfield's age = {GarAge}");
        }
    }
}
```
### อธิบายและผลการทดลอง

![image](https://user-images.githubusercontent.com/100436724/236549215-cba70fb8-f71e-45a7-bfcf-205a05245c7a.png)


## 8.3.5 properties calculation

รันโปรแกรมต่อไปนี้และบันทึกผล

``` cs
namespace PropertyExample
{

    class Cat
    {
        public int Age {
            get { return DateTime.Now.Year - YearOfBirth; }
            set { Age = value; } 
        }
        public int YearOfBirth { get; set; }

    }
    internal class Program
    {
        static void Main(string[] args)
        {
            var Garfield = new Cat();
            Garfield.YearOfBirth = 2015;
            Console.WriteLine($"Garfield's age = {Garfield.Age}");
        }
    }
}
```
### อธิบายและผลการทดลอง
![image](https://user-images.githubusercontent.com/100436724/236549789-07a786ba-696d-4b5a-ae8f-e42a952071c3.png)


## 8.3.6 properties calculation

รันโปรแกรมต่อไปนี้และบันทึกผล

```cs
namespace PropertyExample
{

    class Cat
    {
        int age;
        int yearOfBirth;
        public int Age {
            get {  return DateTime.Now.Year - YearOfBirth;  }
            set 
            { 
                age = value;
                yearOfBirth = DateTime.Now.Year - age;
            } 
        }
        public int YearOfBirth {
            get { return yearOfBirth; }
            set { 
                yearOfBirth = value;
                age = DateTime.Now.Year - YearOfBirth;
            }
        }
    }
    internal class Program
    {
        static void Main(string[] args)
        {
            var Garfield = new Cat();
            Garfield.YearOfBirth = 2015;
            Console.WriteLine($"Garfield's age = {Garfield.Age}");
        }
    }
}
```
### อธิบายและผลการทดลอง

![image](https://user-images.githubusercontent.com/100436724/236550819-cdd4725a-5399-4075-8cff-895fcd07cd62.png)


## คำถาม

1. Fields และ properties ต่างกันอย่างไร
```
fields ใช้เก็บข้อมูลในคลาส สามารถเข้าถึงได้โดยตรงจากอ็อบเจกต์ ในขณะที่ properties เป็นเมธอดที่ใช้เข้าถึงหรือแก้ไขข้อมูลในฟิลด์ของอ็อบเจกต์ 
ซึ่งจะมีการกำหนด getter และ setter ใน property เพื่อเข้าถึงและแก้ไขข้อมูลในฟิลด์นั้นๆ
```

2. เมื่อใดควรใช้ field และเมื่อใดควรใช้ properties

```
การเลือกใช้ field หรือ properties ขึ้นอยู่กับการออกแบบและวัตถุประสงค์ของคลาสหรืออ็อบเจกต์ในแต่ละกรณี โดยทั่วไปแล้ว:
ใช้ field เมื่อต้องการเก็บข้อมูลหรือสถานะของอ็อบเจกต์ โดยไม่ต้องมีการเข้าถึงหรือแก้ไขข้อมูลนั้นจากภายนอก 
หรือไม่ต้องมีการตรวจสอบหรือจำกัดการเข้าถึงข้อมูล
ใช้ properties เมื่อต้องการให้มีการเข้าถึงหรือแก้ไขข้อมูลในฟิลด์ของอ็อบเจกต์ผ่านเมธอดตัวกลาง 
ซึ่งสามารถนำไปใช้ในการตรวจสอบหรือจำกัดการเข้าถึงข้อมูลได้ โดยในภาษาโปรแกรมบางภาษา เช่น C# จะใช้คีย์เวิร์ด property 
เพื่อบอกว่าเป็นเมธอดที่เป็นตัวกลางในการเข้าถึงข้อมูลภายในฟิลด์
```
3. value ใน setter หมายถึงอะไร
```
ค่าที่ถูกส่งเข้ามาเพื่อกำหนดค่าให้กับ property หรือ field ในอ็อบเจกต์ ซึ่งเป็น parameter 
ที่ต้องระบุในเมธอด setter ของ property หรือเมธอด set ของ field ในภาษาโปรแกรมต่าง ๆ
```

4. return ใน setter ต้องมี type ตรงกับอะไร
```
ใน setter method ไม่จำเป็นต้องมีการระบุ type ใน return statement เนื่องจากเมื่อเรียกใช้ setter method 
จะไม่มีการ return ค่าใด ๆ ออกมาจาก method นี้ แต่จะมีการกำหนดค่าให้กับ property หรือ field ในอ็อบเจกต์เท่านั้น
```
